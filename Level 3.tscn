[gd_scene load_steps=19 format=2]

[ext_resource path="res://Montserrat-Thin.ttf" type="DynamicFontData" id=1]
[ext_resource path="res://Player.tscn" type="PackedScene" id=2]
[ext_resource path="res://DebugText.gd" type="Script" id=3]
[ext_resource path="res://cloud.png" type="Texture" id=4]
[ext_resource path="res://space bg hd.png" type="Texture" id=5]
[ext_resource path="res://neighbor level tilesheet.png" type="Texture" id=6]
[ext_resource path="res://End.gd" type="Script" id=7]

[sub_resource type="ConvexPolygonShape2D" id=2]
points = PoolVector2Array( 64, 64, 0, 64, 0, 0, 64, 0 )

[sub_resource type="ConvexPolygonShape2D" id=3]
points = PoolVector2Array( 64, 64, 0, 64, 0, 0, 64, 0 )

[sub_resource type="ConvexPolygonShape2D" id=4]
points = PoolVector2Array( 64, 64, 0, 64, 0, 0, 64, 0 )

[sub_resource type="ConvexPolygonShape2D" id=7]
points = PoolVector2Array( 45, 64, 16, 64, 16, 34, 45, 34 )

[sub_resource type="ConvexPolygonShape2D" id=5]
points = PoolVector2Array( 64, 64, 0, 64, 0, 0, 64, 0 )

[sub_resource type="ConvexPolygonShape2D" id=6]
points = PoolVector2Array( 64, 64, 0, 64, 0, 0, 64, 0 )

[sub_resource type="TileSet" id=1]
0/name = "ground atomic"
0/texture = ExtResource( 6 )
0/tex_offset = Vector2( 0, 0 )
0/modulate = Color( 1, 1, 1, 1 )
0/region = Rect2( 0, 0, 64, 64 )
0/tile_mode = 0
0/occluder_offset = Vector2( 0, 0 )
0/navigation_offset = Vector2( 0, 0 )
0/shape_offset = Vector2( 0, 0 )
0/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
0/shape = SubResource( 2 )
0/shape_one_way = false
0/shape_one_way_margin = 1.0
0/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 2 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
0/z_index = 0
1/name = "ground end"
1/texture = ExtResource( 6 )
1/tex_offset = Vector2( 0, 0 )
1/modulate = Color( 1, 1, 1, 1 )
1/region = Rect2( 64, 0, 64, 64 )
1/tile_mode = 0
1/occluder_offset = Vector2( 0, 0 )
1/navigation_offset = Vector2( 0, 0 )
1/shape_offset = Vector2( 0, 0 )
1/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
1/shape = SubResource( 3 )
1/shape_one_way = false
1/shape_one_way_margin = 1.0
1/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 3 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
1/z_index = 0
2/name = "ground bend"
2/texture = ExtResource( 6 )
2/tex_offset = Vector2( 0, 0 )
2/modulate = Color( 1, 1, 1, 1 )
2/region = Rect2( 128, 0, 64, 64 )
2/tile_mode = 0
2/occluder_offset = Vector2( 0, 0 )
2/navigation_offset = Vector2( 0, 0 )
2/shape_offset = Vector2( 0, 0 )
2/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
2/shape = SubResource( 4 )
2/shape_one_way = false
2/shape_one_way_margin = 1.0
2/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 4 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
2/z_index = 0
3/name = "spike"
3/texture = ExtResource( 6 )
3/tex_offset = Vector2( 0, 0 )
3/modulate = Color( 1, 1, 1, 1 )
3/region = Rect2( 192, 0, 64, 64 )
3/tile_mode = 0
3/occluder_offset = Vector2( 0, 0 )
3/navigation_offset = Vector2( 0, 0 )
3/shape_offset = Vector2( 0, 0 )
3/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
3/shape = SubResource( 7 )
3/shape_one_way = false
3/shape_one_way_margin = 1.0
3/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 7 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
3/z_index = 0
4/name = "ground pipe"
4/texture = ExtResource( 6 )
4/tex_offset = Vector2( 0, 0 )
4/modulate = Color( 1, 1, 1, 1 )
4/region = Rect2( 0, 64, 64, 64 )
4/tile_mode = 0
4/occluder_offset = Vector2( 0, 0 )
4/navigation_offset = Vector2( 0, 0 )
4/shape_offset = Vector2( 0, 0 )
4/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
4/shape = SubResource( 5 )
4/shape_one_way = false
4/shape_one_way_margin = 1.0
4/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 5 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
4/z_index = 0
5/name = "ground branch"
5/texture = ExtResource( 6 )
5/tex_offset = Vector2( 0, 0 )
5/modulate = Color( 1, 1, 1, 1 )
5/region = Rect2( 64, 64, 64, 64 )
5/tile_mode = 0
5/occluder_offset = Vector2( 0, 0 )
5/navigation_offset = Vector2( 0, 0 )
5/shape_offset = Vector2( 0, 0 )
5/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
5/shape = SubResource( 6 )
5/shape_one_way = false
5/shape_one_way_margin = 1.0
5/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 6 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
5/z_index = 0

[sub_resource type="RectangleShape2D" id=8]
extents = Vector2( 46.073, 48.3204 )

[sub_resource type="ParticlesMaterial" id=9]
emission_shape = 1
emission_sphere_radius = 1.0
flag_disable_z = true
direction = Vector3( 1, 3, 0 )
spread = 88.6
flatness = 0.39
gravity = Vector3( 0, 98, 0 )
initial_velocity = 200.0
initial_velocity_random = 0.36
angular_velocity = 183.53
orbit_velocity = 1.0
orbit_velocity_random = 0.0
radial_accel = 5.0
tangential_accel = 3.0
damping = 3.0
scale = 5.0
scale_random = 1.0
color = Color( 0, 0.443137, 0.721569, 1 )
hue_variation = -0.08
hue_variation_random = 1.0

[sub_resource type="Animation" id=10]
resource_name = "slide in"
length = 2.25
step = 0.0416667
tracks/0/type = "value"
tracks/0/path = NodePath(".:rect_position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 1.5, 2.25 ),
"transitions": PoolRealArray( 0.196146, 0.267943 ),
"update": 0,
"values": [ Vector2( -1940, 350 ), Vector2( 0, 350 ) ]
}

[sub_resource type="DynamicFont" id=11]
size = 100
font_data = ExtResource( 1 )

[node name="Level 3" type="Node2D"]

[node name="Background" type="ParallaxBackground" parent="."]

[node name="Sky" type="ParallaxLayer" parent="Background"]
motion_scale = Vector2( 0.1, 0.1 )

[node name="Sprite" type="Sprite" parent="Background/Sky"]
position = Vector2( 289.966, 21.0988 )
scale = Vector2( 0.334808, 0.334808 )
texture = ExtResource( 5 )

[node name="Stage" type="TileMap" parent="."]
tile_set = SubResource( 1 )
format = 1
tile_data = PoolIntArray( -1310694, 536870914, 0, -1310693, 4, 0, -1310692, 2, 0, -1245158, -2147483644, 0, -1245156, -2147483644, 0, -1179622, -2147483644, 0, -1179620, -2147483644, 0, -1114086, 1610612738, 0, -1114085, 4, 0, -1114084, 1073741826, 0, -1114071, -536870911, 0, -1048562, -1073741823, 0, -1048535, -1610612732, 0, -983026, -2147483643, 0, -983025, 1073741825, 0, -983021, -1073741822, 0, -983020, 536870916, 0, -983019, 536870916, 0, -983018, 536870916, 0, -983017, 536870916, 0, -983016, 1, 0, -983013, 536870912, 0, -983009, 536870912, 0, -982999, -1610612732, 0, -982958, -536870911, 0, -917490, -1073741820, 0, -917486, 536870913, 0, -917485, -536870907, 0, -917463, -1610612732, 0, -917435, -536870911, 0, -917432, 536870914, 0, -917431, 1073741828, 0, -917430, 1073741828, 0, -917429, 1073741828, 0, -917428, 1073741828, 0, -917427, 1073741828, 0, -917426, 1073741828, 0, -917425, 1073741828, 0, -917424, 1073741828, 0, -917423, 1073741828, 0, -917422, 1073741829, 0, -917421, 1073741825, 0, -851954, -1073741820, 0, -851949, -1073741820, 0, -851927, -1610612732, 0, -851899, -536870908, 0, -851896, -536870908, 0, -786418, -1073741819, 0, -786417, 1, 0, -786413, -1073741820, 0, -786395, -1610612736, 0, -786391, -1610612735, 0, -786363, -2147483647, 0, -786360, -536870908, 0, -720882, -1073741820, 0, -720877, -1073741820, 0, -720824, -2147483647, 0, -589838, -1073741822, 0, -589837, 1, 0, -589830, -536870911, 0, -655346, -1073741820, 0, -655342, 536870913, 0, -655341, 1073741826, 0, -655320, -536870912, 0, -524314, -1073741823, 0, -524302, -1073741820, 0, -524294, -536870908, 0, -589810, -1073741820, 0, -589757, 536870913, 0, -589756, 536870916, 0, -589755, 536870916, 0, -589754, 1073741825, 0, -458778, -2147483644, 0, -458773, 1610612737, 0, -458772, 1073741825, 0, -458766, -1073741820, 0, -458758, -536870908, 0, -524274, -2147483646, 0, -524273, 1, 0, -524225, 1610612737, 0, -524224, 1073741828, 0, -524223, 1073741825, 0, -393242, -2147483644, 0, -393230, -1073741820, 0, -393222, -536870908, 0, -458727, -536870912, 0, -458723, -536870911, 0, -327706, -2147483644, 0, -327694, -1073741820, 0, -327690, -1073741822, 0, -327689, 4, 0, -327688, 4, 0, -327687, 4, 0, -327686, 1073741826, 0, -393200, 536870914, 0, -393199, 536870916, 0, -393198, 5, 0, -393197, 536870916, 0, -393196, 2, 0, -393187, -536870908, 0, -393174, 536870913, 0, -393173, 1073741828, 0, -393172, 1073741828, 0, -393171, 1073741828, 0, -393170, 1073741828, 0, -393169, 1073741828, 0, -393168, 1073741825, 0, -393155, -536870911, 0, -262170, -2147483646, 0, -262169, 1073741828, 0, -262168, -536870910, 0, -262158, -1073741820, 0, -262154, -1073741820, 0, -327664, -1610612732, 0, -327662, -1610612732, 0, -327660, -1610612732, 0, -327651, -1610612735, 0, -327622, 1610612737, 0, -327621, 1073741828, 0, -327620, 1073741828, 0, -327619, 1073741829, 0, -327618, 1073741825, 0, -196632, -1073741820, 0, -196622, -1073741820, 0, -196618, -1073741820, 0, -262128, -1610612735, 0, -262126, -1610612735, 0, -262124, -1610612735, 0, -262117, -536870912, 0, -262097, 1610612737, 0, -262096, 1073741828, 0, -262095, 1073741828, 0, -262094, 1073741828, 0, -262093, 1073741828, 0, -262092, 1073741828, 0, -262091, 1073741828, 0, -262090, 1073741828, 0, -262089, 1073741825, 0, -131096, -1073741820, 0, -131092, 1610612737, 0, -131091, 4, 0, -131090, 4, 0, -131089, 4, 0, -131088, 4, 0, -131087, 4, 0, -131086, -1610612734, 0, -131082, -1073741820, 0, -65560, -1073741820, 0, -65546, -1073741820, 0, -131068, 536870913, 0, -131067, 536870916, 0, -131066, 536870916, 0, -131065, 536870916, 0, -131064, 536870916, 0, -131063, 536870916, 0, -131062, 1, 0, -131059, 536870914, 0, -131058, 1073741828, 0, -131057, 1073741825, 0, -131055, 536870912, 0, -131053, 536870912, 0, -131051, 1073741824, 0, -24, -1073741820, 0, -10, -1073741820, 0, -65523, -536870908, 0, 65512, -1073741820, 0, 65526, -1073741820, 0, 4, 536870913, 0, 5, 536870916, 0, 6, 536870916, 0, 7, 536870916, 0, 8, 536870916, 0, 9, 536870916, 0, 10, 536870916, 0, 11, 536870916, 0, 12, 4, 0, 13, 1073741826, 0, 131048, -1073741820, 0, 131062, -2147483646, 0, 131063, 536870916, 0, 131064, 536870916, 0, 131065, 536870916, 0, 131066, 536870916, 0, 131067, -536870910, 0, 196584, -1073741820, 0, 196588, 536870913, 0, 196589, 536870916, 0, 196590, 536870916, 0, 196591, 536870916, 0, 196592, 536870916, 0, 196593, -536870910, 0, 196603, -2147483644, 0, 131073, -536870911, 0, 262120, -1073741820, 0, 262129, -536870908, 0, 262139, -2147483643, 0, 262140, 536870916, 0, 262141, 536870916, 0, 262142, 536870916, 0, 262143, 536870916, 0, 196608, 536870916, 0, 196609, 1073741829, 0, 196610, 1073741825, 0, 327656, -2147483644, 0, 327665, -536870908, 0, 327675, -2147483644, 0, 393192, -2147483644, 0, 393201, -536870908, 0, 393206, 536870914, 0, 393207, 536870916, 0, 393208, 536870916, 0, 393209, 536870916, 0, 393210, 536870916, 0, 393211, 1073741826, 0, 458728, -2147483644, 0, 458737, -536870908, 0, 458742, -2147483644, 0, 524264, -2147483644, 0, 524273, -2147483646, 0, 524274, 2, 0, 524277, -1073741822, 0, 524278, -1610612734, 0, 589800, -2147483647, 0, 589810, -1610612735, 0, 589813, -1610612735, 0 )

[node name="End" type="Area2D" parent="Stage"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Stage/End"]
position = Vector2( 5280.54, -1012.96 )
shape = SubResource( 8 )

[node name="Particles2D" type="Particles2D" parent="Stage/End/CollisionShape2D"]
position = Vector2( -21, 0 )
amount = 100
process_material = SubResource( 9 )

[node name="Player" parent="." instance=ExtResource( 2 )]
position = Vector2( -448, -476 )

[node name="CanvasLayer" type="CanvasLayer" parent="."]
pause_mode = 2
layer = 2

[node name="EndScreen" type="ColorRect" parent="CanvasLayer"]
margin_left = -1940.0
margin_top = 325.0
margin_right = -20.0
margin_bottom = 775.0
color = Color( 0, 0, 0, 0.392157 )
script = ExtResource( 7 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="CanvasLayer/EndScreen"]
"anims/slide in" = SubResource( 10 )

[node name="CenterContainer" type="CenterContainer" parent="CanvasLayer/EndScreen"]
margin_right = 1920.0
margin_bottom = 450.0

[node name="Label" type="Label" parent="CanvasLayer/EndScreen/CenterContainer"]
margin_left = 726.0
margin_top = 37.0
margin_right = 1194.0
margin_bottom = 412.0
custom_fonts/font = SubResource( 11 )
text = "YOU WIN
Time
Deaths"
align = 1
valign = 1

[node name="RichTextLabel" type="RichTextLabel" parent="CanvasLayer"]
margin_left = 10.0
margin_top = 10.0
margin_right = 357.0
margin_bottom = 204.0
text = "test!"
script = ExtResource( 3 )

[node name="Foreground" type="ParallaxBackground" parent="."]
layer = 1

[node name="Cloud" type="ParallaxLayer" parent="Foreground"]
motion_scale = Vector2( 2, 2 )

[node name="Sprite" type="Sprite" parent="Foreground/Cloud"]
modulate = Color( 1, 1, 1, 0.4 )
position = Vector2( -576.828, 337.43 )
scale = Vector2( 0.418756, 0.418756 )
texture = ExtResource( 4 )

[connection signal="body_entered" from="Stage/End" to="Player" method="_on_End_body_entered"]
